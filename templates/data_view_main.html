{% extends "index.html" %} {% block content %}
<div class="container-fluid py-4">
  <h3 class="mb-4 text-center">ğŸ“Š Website Dashboard</h3>

  <!-- ThÃ´ng tin dá»¯ liá»‡u -->
  <div class="row mb-3 text-center">
    <div class="col-md-2">
      <div class="bg-light p-2 rounded">
        Sá»‘ dÃ²ng:<br /><strong>{{ r }}</strong>
      </div>
    </div>
    <div class="col-md-2">
      <div class="bg-light p-2 rounded">
        Sá»‘ cá»™t:<br /><strong>{{ d }}</strong>
      </div>
    </div>
  </div>

  <!-- Biá»ƒu Ä‘á»“ 1 thuá»™c tÃ­nh -->
  <div class="row mb-4">
    <div class="col-md-6">
      <form action="/chart" method="POST" class="bg-light p-3 rounded h-100">
        <label class="form-label">ğŸ“Œ Chá»n thuá»™c tÃ­nh Ä‘á»ƒ váº½ biá»ƒu Ä‘á»“:</label>
        <select name="selected_col" class="form-select mb-2" required>
          {% for col in columns %}
          <option value="{{ col }}">{{ col }}</option>
          {% endfor %}
        </select>
        <button class="btn btn-primary w-100">ğŸ“Š Váº½ biá»ƒu Ä‘á»“</button>
      </form>
    </div>
    <div class="col-md-6">
      <form action="/describe" method="POST" class="bg-light p-3 rounded h-100">
        <label class="form-label">ğŸ“Œ Chá»n thuá»™c tÃ­nh sá»‘ Ä‘á»ƒ thá»‘ng kÃª:</label>
        <select name="selected_col" class="form-select mb-2" required>
          {% for col in numeric_columns %}
          <option value="{{ col }}">{{ col }}</option>
          {% endfor %}
        </select>
        <button class="btn btn-warning w-100">ğŸ“ˆ Thá»‘ng kÃª mÃ´ táº£</button>
      </form>
    </div>
  </div>

  <!-- Biá»ƒu Ä‘á»“ 2 thuá»™c tÃ­nh phÃ¢n loáº¡i -->
  <div class="row mb-4">
    <div class="col-md-6">
      <form
        action="/plot_categorical"
        method="POST"
        class="bg-light p-3 rounded h-100"
      >
        <label class="form-label">ğŸŸ¨ Cá»™t phÃ¢n loáº¡i X:</label>
        <select name="col1" class="form-select mb-2" required>
          {% for col in categorical_columns %}
          <option value="{{ col }}">{{ col }}</option>
          {% endfor %}
        </select>
        <label class="form-label">ğŸŸ§ PhÃ¢n nhÃ³m (Hue):</label>
        <select name="col2" class="form-select mb-2" required>
          {% for col in categorical_columns %}
          <option value="{{ col }}">{{ col }}</option>
          {% endfor %}
        </select>
        <button class="btn btn-warning w-100">ğŸ§® Váº½ biá»ƒu Ä‘á»“ nhÃ³m</button>
      </form>
    </div>

    <!-- Heatmap -->
    <div class="col-md-6 d-flex align-items-center justify-content-center">
      <form action="/heatmap" method="GET" class="w-100">
        <button class="btn btn-danger w-100 p-3">
          ğŸ” Xem Heatmap (TÆ°Æ¡ng quan)
        </button>
      </form>
    </div>
  </div>

  <!-- Biá»ƒu Ä‘á»“ phÃ¢n loáº¡i vs Ä‘á»‹nh lÆ°á»£ng -->
  <form
    action="/plot_cate_num"
    method="POST"
    class="row g-3 mb-5 bg-light p-3 rounded"
  >
    <div class="col-md-5">
      <label class="form-label">ğŸ§© Cá»™t phÃ¢n loáº¡i:</label>
      <select
        name="col_cat"
        id="col_cat"
        class="form-select"
        onchange="updateNumericOptions()"
        required
      >
        {% for col in categorical_columns %}
        <option value="{{ col }}">{{ col }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-5">
      <label class="form-label">ğŸ“ Cá»™t Ä‘á»‹nh lÆ°á»£ng:</label>
      <select name="col_num" id="col_num" class="form-select" required>
        {% for col in quantitative_columns %}
        <option value="{{ col }}">{{ col }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-2 d-flex align-items-end">
      <button class="btn btn-success w-100">ğŸ“ˆ Váº½ biá»ƒu Ä‘á»“ káº¿t há»£p</button>
    </div>
  </form>
</div>
{% endblock %} {% block scripts %}
<script>
  // Truyá»n biáº¿n Python vÃ o JS (pháº£i lÃ m trong template)
  window.categoricalColumns = {{ categorical_columns | tojson | safe }};
  window.numericColumns = {{ numeric_columns | tojson | safe }};
</script>
<script src="{{ url_for('static', filename='js/data_view.js') }}"></script>
{% endblock %}
